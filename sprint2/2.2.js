//USE tienda;
SELECT nombre FROM producto;
SELECT nombre, precio FROM producto;
SELECT * FROM producto;
SELECT nombre, precio AS USD, precio * 1.01 AS EUR FROM producto;
SELECT nombre AS "Nombre de Producto", precio AS Dolares, precio * 1.01 AS Euros FROM producto;
SELECT UPPER(nombre) , precio FROM producto;
SELECT LOWER(nombre) , precio FROM producto;
SELECT nombre, SUBSTRING(UPPER(nombre), 1, 2) AS algo FROM fabricante;
SELECT nombre, ROUND(precio)  FROM producto;
SELECT nombre, TRUNCATE(precio, 0)  FROM producto;
SELECT p.codigo_fabricante FROM producto p;
SELECT DISTINCT p.codigo_fabricante FROM producto p;
SELECT f.nombre FROM fabricante f ORDER BY f.nombre ASC;
SELECT f.nombre FROM fabricante f ORDER BY f.nombre DESC;
//15
SELECT p.nombre FROM producto p ORDER BY p.nombre ASC;
SELECT p.nombre, p.precio FROM producto p ORDER BY p.precio DESC;
SELECT f.nombre FROM fabricante f LIMIT 5;
SELECT f.nombre FROM fabricante f LIMIT 3, 2;
SELECT p.nombre, p.precio FROM producto p ORDER BY p.precio ASC LIMIT 1;
SELECT p.nombre, p.precio FROM producto p ORDER BY p.precio DESC LIMIT 1;
SELECT p.nombre FROM fabricante f JOIN  producto p ON f.codigo = p.codigo_fabricante WHERE f.codigo = 2;
SELECT p.nombre, p.precio, f.nombre FROM producto p JOIN fabricante f ON f.codigo = p.codigo_fabricante;
SELECT p.nombre, p.precio, f.nombre AS fabricante FROM producto p JOIN fabricante f ON f.codigo = p.codigo_fabricante ORDER BY f.nombre ASC;
SELECT p.codigo, p.nombre, f.codigo AS "Codigo Producto", f.nombre AS Fabricante FROM producto p JOIN fabricante f ON f.codigo = p.codigo_fabricante;
SELECT p.nombre, p.precio, f.nombre AS fabricante FROM producto p JOIN fabricante f ON f.codigo = p.codigo_fabricante ORDER BY p.precio ASC LIMIT 1;
SELECT p.nombre, p.precio, f.nombre AS fabricante FROM producto p JOIN fabricante f ON f.codigo = p.codigo_fabricante ORDER BY p.precio DESC LIMIT 1;
SELECT p.nombre FROM producto p JOIN fabricante f ON f.codigo = p.codigo_fabricante WHERE f.nombre = "Lenovo";
SELECT p.nombre FROM producto p JOIN fabricante f ON f.codigo = p.codigo_fabricante WHERE f.nombre = "Crucial" AND p.precio > 200;
SELECT p.nombre, f.nombre AS fabricante FROM producto p JOIN fabricante f ON f.codigo = p.codigo_fabricante WHERE f.nombre = "Crucial" OR f.nombre = "Seagate" OR f.nombre = "Hewlett-Packard";
SELECT p.nombre, f.nombre AS fabricante FROM producto p JOIN fabricante f ON f.codigo = p.codigo_fabricante WHERE f.nombre IN ("Crucial", "Seagate", "Hewlett-Packard");
SELECT p.nombre, p.precio, f.nombre AS fabricante FROM producto p JOIN fabricante f ON f.codigo = p.codigo_fabricante WHERE f.nombre LIKE ("%e");
SELECT p.nombre, p.precio, f.nombre AS fabricante FROM producto p JOIN fabricante f ON f.codigo = p.codigo_fabricante WHERE f.nombre LIKE ("%w%");
//32
SELECT p.nombre, p.precio, f.nombre AS fabricante FROM producto p JOIN fabricante f ON f.codigo = p.codigo_fabricante WHERE p.precio >= 180 ORDER BY p.precio DESC;
SELECT p.nombre, p.precio, f.nombre AS fabricante FROM producto p JOIN fabricante f ON f.codigo = p.codigo_fabricante WHERE p.precio >= 180 ORDER BY p.nombre ASC;
//33
SELECT DISTINCT f.nombre, f.codigo FROM producto p JOIN fabricante f ON f.codigo = p.codigo_fabricante;
SELECT f.nombre, p.nombre FROM fabricante f LEFT JOIN producto p ON f.codigo = p.codigo_fabricante;
SELECT f.nombre FROM fabricante f LEFT JOIN producto p ON f.codigo = p.codigo_fabricante WHERE p.nombre IS NULL;
SELECT p.nombre FROM fabricante f LEFT JOIN producto p ON f.codigo = p.codigo_fabricante WHERE f.nombre LIKE ("Lenovo");
SELECT * FROM producto p LEFT JOIN fabricante f ON f.codigo = p.codigo_fabricante WHERE p.precio >= (SELECT p.precio FROM producto p LEFT JOIN fabricante f ON f.codigo = p.codigo_fabricante ORDER BY p.precio DESC LIMIT 1);
SELECT p.nombre FROM producto p JOIN fabricante f ON f.codigo = p.codigo_fabricante WHERE f.nombre LIKE ("Lenovo") ORDER BY p.precio DESC LIMIT 1;
SELECT p.nombre FROM producto p JOIN fabricante f ON f.codigo = p.codigo_fabricante WHERE f.nombre LIKE ("Hewlett-Packard") ORDER BY p.precio ASC LIMIT 1;
SELECT p.nombre, p.precio FROM producto p JOIN fabricante f ON f.codigo = p.codigo_fabricante WHERE p.precio >= (SELECT p.precio FROM producto p JOIN fabricante f ON f.codigo = p.codigo_fabricante WHERE f.nombre LIKE ("Lenovo") ORDER BY p.precio DESC LIMIT 1);
SELECT p.nombre FROM producto p JOIN fabricante f ON f.codigo = p.codigo_fabricante WHERE f.nombre LIKE ("Asus") AND p.precio > (SELECT AVG(p.precio) FROM producto p JOIN fabricante f ON f.codigo = p.codigo_fabricante WHERE f.nombre LIKE ("Asus") );
//USE universidad;
SELECT p.apellido1, p.apellido2, p.nombre FROM persona p ORDER BY p.apellido1 ASC;
SELECT p.nombre, p.apellido1, p.apellido2 FROM persona p WHERE p.telefono IS NULL;
SELECT p.nombre, p.apellido1, p.apellido2 FROM persona p WHERE p.fecha_nacimiento LIKE ("1999%");
SELECT p.nombre, p.apellido1, p.apellido2 FROM persona p JOIN profesor pr ON p.id = pr.id_profesor WHERE p.telefono IS NULL AND p.nif LIKE ("%K");
SELECT a.nombre FROM asignatura a WHERE a.cuatrimestre = 1 AND a.curso = 3 AND a.id_grado = 7;
SELECT p.apellido1, p.apellido2, p.nombre, d.nombre FROM persona p JOIN profesor pr ON p.id = pr.id_profesor JOIN departamento d ORDER BY p.apellido1 ASC;
SELECT a.nombre, ce.anyo_inicio, ce.anyo_fin FROM asignatura a JOIN curso_escolar ce ON ce.id = a.curso JOIN alumno_se_matricula_Asignatura ama ON ama.id_asignatura = a.id JOIN persona p ON p.id = ama.id_alumno WHERE p.nif LIKE ("26902806M");
SELECT DISTINCT d.nombre FROM departamento d JOIN profesor p ON p.id_departamento = d.id LEFT JOIN asignatura a ON a.id_profesor = p.id_profesor LEFT JOIN grado g ON g.id = a.id_grado WHERE a.id_grado LIKE ("4");
SELECT DISTINCT p.nombre, p.apellido1, p.apellido2 FROM alumno_se_matricula_asignatura ama JOIN persona p ON p.id = ama.id_alumno JOIN curso_escolar ce ON ce.id = ama.id_curso_escolar WHERE ce.anyo_inicio LIKE ("2018") AND ce.anyo_fin LIKE ("2019");
SELECT d.nombre, pe.apellido1, pe.apellido2, pe.nombre FROM departamento d LEFT JOIN profesor p ON p.id_departamento = d.id RIGHT JOIN persona pe ON pe.id = p.id_profesor ORDER BY d.nombre ASC;
SELECT pe.apellido1, pe.apellido2, pe.nombre FROM departamento d LEFT JOIN profesor p ON p.id_departamento = d.id RIGHT JOIN persona pe ON pe.id = p.id_profesor WHERE d.nombre IS NULL AND pe.tipo LIKE ("profesor") ORDER BY d.nombre ASC;
SELECT d.nombre FROM departamento d LEFT JOIN profesor p ON p.id_departamento = d.id WHERE id_departamento IS NULL;
SELECT p.apellido1, p.apellido2, p.nombre, p.tipo, a.nombre FROM persona p RIGHT JOIN profesor pr ON pr.id_profesor = p.id LEFT JOIN asignatura a ON a.id_profesor = pr.id_profesor WHERE p.tipo LIKE ("profesor") AND a.nombre IS NULL;
// NO TIENE PORQUE USARSE  LEFT RIGHT JOIN NO LE VEO SENTIDO
SELECT a.nombre FROM asignatura a WHERE a.id_profesor IS NULL;
SELECT d.nombre AS "departamento" FROM departamento d LEFT JOIN profesor pr ON pr.id_departamento = d.id LEFT JOIN asignatura a ON a.id_profesor = pr.id_profesor LEFT JOIN curso_escolar ce ON ce.id = a.curso;
////
SELECT COUNT(p.tipo) AS "alumnos existentes" FROM persona p WHERE p.tipo LIKE "alumno"; 
SELECT COUNT(p.tipo) AS "alumnos nacidos en 1999" FROM persona p WHERE p.fecha_nacimiento LIKE ("1999%");
SELECT d.nombre, COUNT(p.tipo LIKE "profesor") AS "profesores" FROM persona p JOIN profesor pr ON pr.id_profesor = p.id JOIN departamento d ON d.id = pr.id_departamento GROUP BY d.nombre;
SELECT d.nombre, COUNT(p.tipo LIKE "profesor") AS "profesores" FROM persona p LEFT JOIN profesor pr ON pr.id_profesor = p.id RIGHT JOIN departamento d ON d.id = pr.id_departamento GROUP BY d.nombre;
SELECT g.nombre, COUNT(a.nombre) AS "asignatura" FROM grado g LEFT JOIN asignatura a ON a.id_grado = g.id GROUP BY g.nombre ORDER BY 2 DESC;
SELECT g.nombre, COUNT(a.nombre) AS "asignaturas" FROM grado g LEFT JOIN asignatura a ON a.id_grado = g.id GROUP BY g.nombre HAVING COUNT(a.nombre) > 40;
SELECT g.nombre, a.tipo, SUM(a.creditos) AS "Suma Creditos" FROM grado g LEFT JOIN asignatura a ON a.id_grado = g.id GROUP BY g.nombre, a.tipo;
SELECT ce.anyo_inicio, COUNT(ama.id_alumno) AS "Alumnos Matriculados" FROM alumno_se_matricula_asignatura ama JOIN curso_escolar ce ON ce.id = ama.id_curso_escolar GROUP BY ce.anyo_inicio; 
SELECT p.id, p.nombre, p.apellido1, p.apellido2, COUNT(a.id) AS "asignaturas" FROM persona p JOIN  profesor pr ON pr.id_profesor = p.id LEFT JOIN asignatura a ON a.id_profesor = p.id GROUP BY p.id, p.nombre, p.apellido1, p.apellido2 ORDER BY COUNT(a.id) DESC;
SELECT * FROM persona p WHERE p.tipo LIKE "alumno" ORDER BY p.fecha_nacimiento DESC LIMIT 1;
SELECT * FROM persona p JOIN alumno_se_matricula_asignatura ama ON ama.id_alumno = p.id JOIN curso_escolar ce ON ce.id = ama.id_curso_escolar JOIN asignatura a ON a.id = ama.id_asignatura WHERE p.tipo LIKE "alumno" ORDER BY p.fecha_nacimiento DESC LIMIT 1;
SELECT p.nombre, p.apellido1, p.apellido2 FROM persona p LEFT JOIN profesor pr ON pr.id_profesor = p.id RIGHT JOIN departamento d ON d.id = pr.id_departamento LEFT JOIN asignatura a ON a.id_profesor = pr.id_profesor WHERE p.tipo LIKE "profesor" AND a.nombre IS NULL; 